## 一、《Best-Practice Recommendations for Defining, Identifying, and Handling Outliers》

我们的文献综述发现：（a）**14种独特且相互排斥的离群值定义，39种离群值识别技术，以及20种处理离群值的不同方法**;（b）**各种方法学来源中离群值的定义，识别和处理方式不一致**;以及（c）大量研究人员如何处理离群值的混乱和缺乏透明度。因此，有必要对以下三个问题有更好的理解和明确的指导方针：（a）如何界定这些问题（即，“”**什么是离群值**？“”），(b)如何识别它们（即，“”**我如何知道某个特定案例是否为离群值**？“”），以及（c）如何处理它们（即，“”**我该如何处理已被确定为异常值的案例**？“”）

### 1、离群值：文献综述

#### 1、基于方法学和实质性组织科学来源的离群值定义

> 1、Single construct outliers：**与同一构造的其他值相比异常大或小的数据值**。这些点通常落在**数据分布的尾部**。
>
> 2、Error outliers：与其他数据点有一定距离的数据点，因为它们是不准确的结果。更具体地，**误差离群值包括由于不是感兴趣的群体的一部分而引起的离群观测（即，取样程序中的错误）、超出可能的数值范围、观察错误、记录错误、准备数据错误、计算错误、编码错误或数据处理错误**。
>
> 3、Interesting outliers：准确（即，非错误）数据点，这些数据点与其他数据点相距一定距离，并且**可能包含有价值的或意外的知识**。
>
> 4、Discrepancy outliers：**具有较大残差值的数据点，可能（但不一定）对模型拟合和/或参数估计值产生较大影响**。
>
> 5、Model fit outlier：**一个有影响力的离群值，其存在会影响模型的拟合**。
>
> 6、Prediction outlier：**一个有影响力的离群值，其存在会影响模型的参数估计值**。
>
> 7、Influential meta-analysis effect size outlier：与元分析数据库中的其他数据相比，异常大或小的数据点，特别是关于效应或关系的大小。
>
> 8、Influential meta-analysis sample size outliers：在云分析的背景下，与其他研究的样本量相比，这些样本量是单一结构离群值。
>
> 9、Influential meta-analysis effect and sample size outliers：初级研究，通过异常大或小的效应量和异常大的样本量的组合，对元分析结果产生很大影响。
>
> 10、Cluster analysis outliers：由于进行聚类分析而存在的离群值。
>
> 11、Influential time series additive outlier：在时间序列分析中，与周围其他观测值明显偏离的观测值。时间序列加性异常值可能孤立存在，使得用连续线连接周围的数据点和异常值将在异常值存在的时间点产生尖峰形状。或者，一组时间序列加性离群值可以作为时间点范围内的补丁存在。
>
> 12、Influential time series innovation outlier：在时间序列分析中，与周围的观测值相比，不仅具有较大的绝对值，而且对后续观测值的影响也不相等。
>
> 13、Influential level shift outliers：导致突然和永久阶跃变化的数据点（即，跳跃）在一系列后续观测值中。
>
> 14、Influential temporary changes outliers：导致突然阶跃变化的数据点（即，跳跃），但这与水平移动异常值的不同之处在于，这种变化最终会随着时间的推移而消失。也就是说，阶跃变化不是永久性的。

#### 2、基于方法论和实体组织科学来源的异常值处理技术

> 1、Correct value：将数据点校正为正确的值
>
> 2、Remove outlier：从分析中删除数据点
>
> 3、Study the outlier in detail：开展后续工作，将案例作为一种独特的感兴趣的现象进行研究
>
> 4、Keep：确认异常值的存在，但在分析之前不对异常值做任何处理
>
> 5、Report findings with and without outliers：报告包含和不包含异常值的实质性结果，其中还包括对结果差异的解释
>
> 6、Winsorization：将极值转换为数据的指定百分位数。例如，第90百分位Winsorization会将第5百分位以下的所有数据转换为第5百分位，而第95百分位以上的所有数据将设置为第95百分位。
>
> 7、Truncation：将观察值设置在可信范围内，并从数据集中删除其他值。
>
> 8、Transformation：**应用确定性数学函数（例如，log函数、ln函数），以不仅保持分析中的离群数据点和数据点之间的相对排名，而且减少构建中的数据点的误差方差和偏斜**
>
> 9、Modification：手动将离群值更改为另一个不太极端的值
>
> 10、Least absolute deviation：**与普通最小二乘法类似，该方法通过产生一个非常接近一组数据的函数来选择限制残差的回归系数值**。
>
> 11、Least trimmed squares：该技术将每种情况下的平方残差从最高到最低排序，然后修剪或删除最高值
>
> 12、M-estimation：一类稳健的技术，通过用残差的另一个函数替换残差的平方来减少有影响的离群值的影响。特别地，在时间序列分析中，当识别出有影响力的时间序列新息离群值时，使用该方法。
>
> 13、Bayesian statistics：**贝叶斯统计通过权衡先验信息和手头的观测数据来获得参数估计。这种先验信息的使用有助于“收缩”或将外围数据点拉得更靠近数据的中心或质心**
>
> 14、Two-stage robust procedure：该方法使用Mahalanobis距离为每个数据点分配权重，以便降低预测变量中极端情况的权重。权重的分配通过两个阶段的过程完成。
>
> 15、. Direct robust method using iteratively reweighted least squares：与两阶段鲁棒过程类似，该方法使用Mahalanobis距离为每个数据点分配权重。然而，权重的分配是通过使用迭代重加权最小二乘算法来完成的
>
> 16、Generalized estimating equations (GEE) methods：这些方法直接从残差估计多水平模型随机部分的方差和协方差。这种方法的重点是估计平均群体效应，而不是对个体和群体差异进行建模。虽然GEE估计的效率低于最大似然估计，但GEE估计对多水平模型的随机部分的结构做出了较弱的假设，从而限制了有影响力的离群值的影响。
>
> 17、Bootstrapping methods：这些方法从样本中估计模型的参数及其标准误差，而不参考理论抽样分布。因此，研究人员可以计算期望值的估计值和统计量的变异性，如从经验抽样分布。
>
> 18、Nonparametric methods：非参数分析不假设数据以任何特定方式分布。这种灵活性有助于研究人员在存在离群值的情况下得出稳健的结果。例如，为了从数据中获得参数估计值，一种类型的非参数方法使用观测值的秩，而不是观测值的原始值，其中一些可能非常极端，以至于它们导致相应的观测值成为有影响力的离群值。因此，基于秩的非参数分析减少了（即，降低权重）离群值的影响。
>
> 19、Unweighted meta-analysis：获得元分析统计数据（例如，平均值，标准差），不给予更多的权重，以初级水平的研究与较大的样本量。
>
> 20、Generalized M-estimation：一类稳健的技术，通过用残差的另一个函数替换残差的平方来减少离群值的影响。特别地，在时间序列分析中，当识别出有影响力的时间序列加性离群值时，使用该方法。

### 2、决定如何定义、识别和处理异常值

![image-20240910204237677](C:\Users\kenis\AppData\Roaming\Typora\typora-user-images\image-20240910204237677.png)

## 二、《Statistical data preparation: management of missing values and outliers》×

### 1、离群值处理方法

基本上有三种方法来处理数据集中的离群值。**一种方法是删除离群值**，作为修整数据集的一种手段。**另一种方法涉及替换离群值的值或通过离群值权重调整来减少离群值的影响**。**第三种方法用于使用稳健技术估计离群值**。

#### 1.1 修剪

修剪估计量（如均值）会降低数据的方差，并导致基于低估或高估的偏倚。鉴于离群值也是观察值，将其从分析中排除使得该方法不足以处理离群值。

#### 1.2 替换

权重修改方法允许在不丢弃或替换异常值的情况下修改权重，从而限制异常值的影响。值修改方法允许用排除离群值的观测值中的最大值或次小值替换离群值。

#### 1.3 稳健估计

当总体分布的性质已知时，这种方法被认为是适当的，因为它产生对离群值鲁棒的估计量，并且估计量是一致的。近年来，许多研究提出了各种各样的统计模型来进行稳健估计，但由于方法学方面的复杂性，它们的应用很缓慢。

## 三、《How to Classify, Detect, and Manage Univariate and Multivariate Outliers, With Emphasis on Pre-Registration》

在这14种离群值的定义中，有两种似乎特别适合于实际目的**。第一种方法因其简单性而具有吸引力：“与同一结构的其他值相比，数据值异常大或小”**（Aguinis et al. 2013：275，Table 1）。**然而，该定义仅适用于单一结构**;研究人员还应考虑多变量离群值（即，因为在几个变量上有一个令人惊讶的模式而导致异常值）。**因此，我们将依赖于一个稍微复杂但更全面的离群值定义：“具有大残差值的数据点”。这个定义要求理解“剩余价值”的概念，这是观察值和统计模型预测值之间的差异。**该定义不需要任何特定的统计方法，也不限制异常值可以偏离的维度数量。

### 3.1 离群值分类

1、Error Outliers：误差离群值是“与其他数据点有一定距离的非合理观测值，因为它们是不准确的结果”（Aguinis et al. 2013：282）。这包括测量误差和编码误差。

2、Interesting outliers：有趣的离群值不是明显的错误，但可能受到潜在有趣的调节者的影响。2这些调节者可能具有理论意义，也可能不具有理论意义，甚至可能仍然无法识别。

3、Random outliers：随机离群值是纯粹（非）运气随机出现的值，例如一个完全平衡的硬币，在100次投掷中产生100次“正面”。根据定义，随机离群值是非常不可能的，但仍然是可能的。考虑到检测离群值的常用截止值（见下文），预计不应超过0.27%的随机离群值（然而，在小数据集中，该值的变化将大于大数据集）

### 3.2 单变量和多变量离群值

另一个相关的区别是单变量和多变量离群值之间的差异。**当考虑多个维度时变得令人惊讶的值称为多变量离群值**。检测多变量离群值非常重要，例如在执行结构方程建模（SEM）之前，多变量离群值很容易危及拟合指数。**多变量异常值的检测依赖于与单变量异常值检测不同的方法。单变量离群值必须被检测为距离稳健的集中趋势指标太远的值，而多变量离群值必须被检测为距离稳健的椭圆（或更复杂的多维云，当有两个以上的维度时）太远的值，其中包括大多数观测值**。

### 3.3 离群值的检测

1、建议研究人员遵循两步程序来处理离群值。**第一，它们应该旨在通过使用适当的定量（数学）工具来检测可能的候选人**。正如我们将看到的，即使是最好的数学工具也不可避免地带有主观成分。**其次，他们应该管理异常值，并根据定性（非数学）信息决定是否保留、删除或重新编码这些值**。

2、在之前的两篇论文中，Leys et al.（2013）和Leys et al.（2018）回顾了心理学领域的文献，并表明研究人员主要依靠两种方法来检测离群值。**对于单变量离群值，心理学家认为，当数值比平均值加上或减去标准差乘以一个常数（该常数通常为3或3.29）更极端时，这些数值就是离群值**。**为了检测多变量离群值，大多数心理学家计算Mahalanobis距离**（Mahalanobis，1930;另见Leys等人2018年对Mahalanobis距离的数学描述）。该方法基于对离由大多数数据点的云所形成的质心“太远”的值的检测（例如，99%）。**这两种检测离群值的方法都依赖于均值和标准差，这是不理想的，因为均值和标准差本身会受到它们要检测的离群值的显著影响**。

3、**在考虑稳健估计时，一个有用的概念是崩溃点**（Donoho & Huber，1983），定义为设置为无穷大（因此是离群值）的值的比例，这些值可以成为数据集的一部分，而不会破坏用于分类离群值的估计量。

4、由于心理学家用来检测离群值的最常见方法并不依赖于稳健的指标，因此改用稳健的指标是我们改进当前实践的第一个建议。**为了检测单变量离群值，我们建议使用Leys等人（2013）推荐的基于中位绝对偏差（MAD）的方法**。**为了检测多变量离群值，我们建议使用基于MCD的方法，如Leys等人所建议的那样。（2018）。MCD被描述为检测多变量离群值的最佳指标之一**，因为它具有最高的可能细分点，并且因为它使用中位数，这是存在离群值时最稳健的位置指标。

5、**最后，重要的是要指定离群值检测是一个只对数据集应用一次的过程**。一个常见的错误是检测离群值，管理它们（例如，移除它们或重新编码它们），然后在新的改变的数据集上重新应用离群值检测过程。

### 3.4 离群值的处理

在检测出异常值之后，重要的是区分错误异常值和其他类型的异常值。应尽可能纠正异常值误差。我们根据Aguinis et al.（2013）的工作总结为**（1）保留离群值，（2）删除离群值，或（3）重新编码离群值**。

（3）重新编码离群值：

> 1、重新编码离群值的一种常见方法是Winsorization（Tukey & McLaughlin，1963），其中所有离群值都转换为数据中某个百分位数的值。低于给定百分位数观测值k（通常k = 5）的所有数据的观测值被重新编码为第k百分位数观测值（并且类似地，高于给定百分位数观测值的所有数据，即，(100- k）被重新编码为第（100 - k）百分位数的值）
>
> 2、另一种方法是通过将数学函数应用于所有观察到的数据点来变换所有数据（例如，取对数或反正弦），以减少数据点的方差和偏度（豪厄尔，1997年）

换句话说：**（1）我们建议收集足够的数据，以便在不影响统计功效的情况下删除离群值;（2）如果离群值被认为是随机的，那么可以让它们保持原样;（3）如果出于实用的原因，研究人员被迫保留他们检测到的受主持人影响的离群值，Winsorization或其他转换是可接受的，以避免功率损失。**